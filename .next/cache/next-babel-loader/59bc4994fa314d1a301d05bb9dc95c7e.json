{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/Layout';\nimport fetch from 'isomorphic-unfetch';\nimport clientConfig from '../wooConfig';\nimport client from '../components/ApolloClient';\nimport Product from '../components/Product';\nimport gql from 'graphql-tag';\nimport '../styles/Style.css';\nconst PRODUCTS_QUERY = gql`query{\n    products(first: 20) {\n    nodes {\n      productId\n      averageRating\n      slug\n      description\n      name\n      image {\n        uri\n        sourceUrl\n      }\n      ... on SimpleProduct {\n        id\n        name\n        price\n      }\n    }\n  }\n}`;\n\nconst Index = props => {\n  console.warn(props);\n  const {\n    products\n  } = props;\n  console.log(products.length);\n  return __jsx(Layout, null, __jsx(\"div\", {\n    className: \"product-container\"\n  }, products.length > 0 ? products.map(product => __jsx(Product, {\n    product: product,\n    key: product.id\n  })) : ''));\n};\n\nIndex.getInitialProps = async () => {\n  // GRAPHQL METHOD\n  const result = await client.query({\n    query: PRODUCTS_QUERY\n  });\n  return {\n    products: result.products.nodes\n  }; // REST API METHOD\n  // const res = await fetch(`${clientConfig.siteUrl}/getProducts`)\n  // const ProductData = await res.json()\n  // return {\n  //   products: JSON.parse(ProductData)\n  // }\n};\n\nexport default Index;","map":{"version":3,"sources":["/home/webnostix/Codebase/REACT/woo-next/pages/index.js"],"names":["Layout","fetch","clientConfig","client","Product","gql","PRODUCTS_QUERY","Index","props","console","warn","products","log","length","map","product","id","getInitialProps","result","query","nodes"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,OAAO,qBAAP;AAEA,MAAMC,cAAc,GAAGD,GAAI;;;;;;;;;;;;;;;;;;;EAA3B;;AAoBA,MAAME,KAAK,GAAIC,KAAD,IAAW;AACvBC,EAAAA,OAAO,CAACC,IAAR,CAAaF,KAAb;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAeH,KAArB;AACAC,EAAAA,OAAO,CAACG,GAAR,CAAYD,QAAQ,CAACE,MAArB;AACA,SACE,MAAC,MAAD,QACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGF,QAAQ,CAACE,MAAT,GAAkB,CAAlB,GAAuBF,QAAQ,CAACG,GAAT,CAAaC,OAAO,IAAI,MAAC,OAAD;AAAS,IAAA,OAAO,EAAEA,OAAlB;AAA2B,IAAA,GAAG,EAAEA,OAAO,CAACC;AAAxC,IAAxB,CAAvB,GAAkG,EADrG,CADF,CADF;AAOD,CAXD;;AAaAT,KAAK,CAACU,eAAN,GAAwB,YAAY;AAClC;AACA,QAAMC,MAAM,GAAG,MAAMf,MAAM,CAACgB,KAAP,CAAa;AAAEA,IAAAA,KAAK,EAAEb;AAAT,GAAb,CAArB;AAEA,SAAO;AACLK,IAAAA,QAAQ,EAAEO,MAAM,CAACP,QAAP,CAAgBS;AADrB,GAAP,CAJkC,CAOlC;AACA;AACA;AACA;AACA;AACA;AACD,CAbD;;AAeA,eAAeb,KAAf","sourcesContent":["import Layout from '../components/Layout'\nimport fetch from 'isomorphic-unfetch'\nimport clientConfig from '../wooConfig'\nimport client from '../components/ApolloClient'\nimport Product from '../components/Product'\nimport gql from 'graphql-tag'\n\nimport '../styles/Style.css'\n\nconst PRODUCTS_QUERY = gql`query{\n    products(first: 20) {\n    nodes {\n      productId\n      averageRating\n      slug\n      description\n      name\n      image {\n        uri\n        sourceUrl\n      }\n      ... on SimpleProduct {\n        id\n        name\n        price\n      }\n    }\n  }\n}`\nconst Index = (props) => {\n  console.warn(props)\n  const { products } = props\n  console.log(products.length)\n  return (\n    <Layout>\n      <div className=\"product-container\">\n        {products.length > 0 ? (products.map(product => <Product product={product} key={product.id} />)) : ''}\n      </div>\n    </Layout>\n  )\n}\n\nIndex.getInitialProps = async () => {\n  // GRAPHQL METHOD\n  const result = await client.query({ query: PRODUCTS_QUERY })\n\n  return {\n    products: result.products.nodes\n  }\n  // REST API METHOD\n  // const res = await fetch(`${clientConfig.siteUrl}/getProducts`)\n  // const ProductData = await res.json()\n  // return {\n  //   products: JSON.parse(ProductData)\n  // }\n}\n\nexport default Index"]},"metadata":{},"sourceType":"module"}