{"version":3,"file":"static/webpack/static/development/pages/product.js.1a4cb21277a3522a19b7.hot-update.js","sources":["webpack:///./pages/product.js"],"sourcesContent":["import Layout from './../components/Layout'\nimport { withRouter } from 'next/router'\nimport client from '../components/ApolloClient'\nimport gql from 'graphql-tag'\n\nconst Product = (props) => {\n  return (\n    <Layout>\n      <div>Product</div>\n    </Layout>\n  )\n}\n\nProduct.getInitialProps = async (context) => {\n  let { query: { slug } } = context\n  const id = slug ? parseInt(slug.split('-').pop()) : context.query.id\n  console.warn(id)\n  const PRODUCT_QUERY = gql`query Product ($id: Int !) {\n    productBy( productId: ${id}) {\n        productId\n        averageRating\n        slug\n        description\n        name\n        image {\n          uri\n          sourceUrl\n        }\n        ... on SimpleProduct {\n          id\n          name\n          price\n        }\n      }\n  }`\n  const res = await client.query({\n    query: PRODUCT_QUERY,\n    variables: {id}\n  })\n\n  return {\n    product: res.data.product\n  }\n}\n\nexport default withRouter(Product)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAuBA;AACA;AAAA;AAAA;AAFA;AACA;AAvBA;AAsBA;AAtBA;AA4BA;AADA;AACA;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA+BA;;;;A","sourceRoot":""}