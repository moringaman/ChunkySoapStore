{"version":3,"file":"static/webpack/static/development/pages/index.js.92b8204a0bf272175399.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Layout from '../components/Layout'\n// import fetch from 'isomorphic-unfetch'\n// import clientConfig from '../wooConfig'\nimport client from '../components/ApolloClient'\nimport Product from '../components/Product'\nimport gql from 'graphql-tag'\n\nimport '../styles/Style.css'\n\nconst PRODUCTS_QUERY = gql`query{\n    products(first: 20) {\n    nodes {\n      productId\n      averageRating\n      slug\n      description\n      name\n      image {\n        uri\n        sourceUrl\n      }\n      ... on SimpleProduct {\n        id\n        name\n        price\n      }\n    }\n  }\n}`\nconst Index = (props) => {\n  console.warn(props)\n  const { products } = props\n  console.log(products.length)\n  return (\n    <Layout>\n      <div className=\"product-container\">\n        {products.length > 0 ? (products.map(product => <Product product={product} key={product.id} />)) : ''}\n      </div>\n    </Layout>\n  )\n}\n\nIndex.getInitialProps = async () => {\n  // GRAPHQL METHOD\n  const result = await client.query({ query: PRODUCTS_QUERY })\n\n  return {\n    products: result.data.products.nodes\n  }\n  // REST API METHOD\n  // const res = await fetch(`${clientConfig.siteUrl}/getProducts`)\n  // const ProductData = await res.json()\n  // return {\n  //   products: JSON.parse(ProductData)\n  // }\n}\n\nexport default Index"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AAmBA;AACA;AADA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAHA;AAEA;AAFA;AAKA;AADA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAcA;;;;A","sourceRoot":""}