{"version":3,"file":"static/webpack/static/development/pages/product.js.f2dfa3226e575057a43d.hot-update.js","sources":["webpack:///./pages/product.js"],"sourcesContent":["import Layout from './../components/Layout'\nimport { withRouter } from 'next/router'\nimport client from '../components/ApolloClient'\nimport gql from 'graphql-tag'\n\nconst Product = (props) => {\n  return (\n    <Layout>\n      <div>Product</div>\n    </Layout>\n  )\n}\n\nProduct.getInitialProps = async (context) => {\n  let { query: { slug } } = context\n  const id = slug ? parseInt(slug.split('-').pop()) : context.query.id\n  console.warn(id)\n  const PRODUCT_QUERY = gql` query Product( $id: Int ! ) {\n\t\t\tproductBy( productId: $id ) {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tproductId\n\t\t\t\t\t\t\taverageRating\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\timage {\n\t\t\t\t\t\t\t\turi\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\tsrcSet\n\t\t\t\t\t\t\t\tsourceUrl\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t  ... on SimpleProduct {\n\t\t\t\t\t        price\n\t\t\t\t\t        id\n\t\t\t\t\t      }\n\t\t\t\t\t      ... on VariableProduct {\n\t\t\t\t\t        price\n\t\t\t\t\t        id\n\t\t\t\t\t      }\n\t\t\t\t\t      ... on ExternalProduct {\n\t\t\t\t\t        price\n\t\t\t\t\t        id\n\t\t\t\t\t      }\n\t\t\t\t\t      ... on GroupProduct {\n\t\t\t\t\t        products {\n\t\t\t\t\t          nodes {\n\t\t\t\t\t            ... on SimpleProduct {\n\t\t\t\t\t              price\n\t\t\t\t\t            }\n\t\t\t\t\t          }\n\t\t\t\t\t        }\n\t\t\t\t\t        id\n\t\t\t\t\t      }\n\t\t\t\t\t    }\n\t\t\t\t\n\t\t\t\n\t }`;\n\n  const res = await client.query({\n    query: PRODUCT_QUERY,\n    variables: {id}\n  })\n\n  return {\n    product: res.data.product\n  }\n}\n\nexport default withRouter(Product)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AA8CA;AACA;AAAA;AAAA;AAFA;AACA;AA9CA;AA6CA;AA7CA;AAmDA;AADA;AACA;AAnDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAsDA;;;;A","sourceRoot":""}